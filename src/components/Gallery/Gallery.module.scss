@import "../../assets/constants.scss";
$barH: 15%;
$barB: 10%;

.gallery {
    width: 100%;
    position: relative;
    $checkedHeight: 480px;
    height: $checkedHeight;
    $this: &;

    @media screen and (max-width: $width1450) {
        height: 50vw;
    }

    &__wrapper {
        width: 100%;
        height: 100%;
        position: relative;
        /* для создания 3D эффектов */
        perspective: 100px;
        perspective-origin: center center;
        transform-style: preserve-3d;
        pointer-events: none;

        // &::after {
        //     content: "";
        //     display: block;
        //     width: 100%;
        //     height: 15px;
        //     position: absolute;
        //     bottom: 0;
        //     background: linear-gradient(transparent 20%, rgba(0, 0, 0, 0.1));
        //     transform: rotateX(90deg) scaleX(1.2);
        //     transform-origin: bottom center;
        // }
    }

    &__label {
        height: $barH;
        position: absolute;
        bottom: $barB;
        left: 0;
        transition: transform 0.3s, bottom 0.6s, left 0.6s, width 0.3s,
            box-shadow 0.5s;

        @media screen and (max-width: $width1450) {
            height: 20%;
            bottom: 1%;
        }
    }

    &__figure {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    @keyframes anim {
        from {
            transform: rotateY(3deg) rotateX(2deg);
        }
    }
    /* Выбранный чекбокс и всё что внутри */
    :checked + &__label {
        left: 0;
        bottom: $barH + $barB;
        height: auto;
        width: 100%;
        box-shadow: 0 0 0 transparent;
        animation: anim 1s 1;

        #{$this}__figure {
            object-fit: cover;
            transform: scale(0.9);
        }

        @media screen and (max-width: $width1450) {
            height: 38vw;
        }
    }
    /* Невыбранные чекбоксы и всё что внутри */
    :not(:checked) + &__label {
        transform: translate3d(0, 0, -5px);
        pointer-events: auto;

        &:hover {
            transform: translate3d(0, -7px, -5px);
            box-shadow: 0 30px 15px -10px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }

        #{$this}__figure {
            transform: scaleX(0.95);
        }
    }
}
